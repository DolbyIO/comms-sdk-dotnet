# .NET SDK

## Dependencies

- MacOS or Windows machine. Should work on Linux also, but not tested at the moment.
- C++17 support in the GCC toolchain - lowest supported GCC version is GCC 7.
- CMake 3.23 - on Ubuntu, need to install it from the PPA.
- dotnet 6.x [Dotnet](https://dotnet.microsoft.com/en-us/download).
- docfx for the documentation if needed [Docfx](https://dotnet.github.io/docfx/).
- C++ SDK 2.0.0.

## Building

The entire build chain is done with cmake, all the dotnet projects are generated by cmake. They can be found, if needed, after generating the project with cmake in `build/dotnet`.

```console
mkdir build && cd build
cmake .. -DDOLBYIO_LIBRARY_PATH=/path/to/c++sdk -DCMAKE_BUILD_TYPE=Debug
cmake --build .
```

`DOLBYIO_LIBRARY_PATH` can be defined as environment variables.

For the moment if you want `docfx` to run, the build directory should be created inside the repository folder (it is .gitignored).

## Command Line

A small command line is provided to test functionnalities of the .NET SDK, code source is available in `samples/cmd`. When built, the binaries can be found in `build/bin/DolbyCMD`.

```console
csharp-sdk % ./build/bin/DolbyCMD --help
Description:
  DolbyIO SDK Command Line

Usage:
  DolbyCMD [command] [options]

Options:
  --version       Show version information
  -?, -h, --help  Show help and usage information

Commands:
  join     Joins a conference
  demo     Experience Demo conference
  devices  List available devices
```

```console
csharp-sdk % ./build/bin/DolbyCMD join --help
Description:
  Joins a conference

Usage:
  DolbyCMD join [options]

Options:
  -a, --alias <alias> (REQUIRED)  Conference alias
  -k, --key <key> (REQUIRED)      App Key [default: closed.beta.sp]
  -u, --user <user>               User Name [default: Anonymous]
  -?, -h, --help                  Show help and usage information
```

## Documentation Generation

Before generating the documentation with `docfx` you need to generate the dotnet projects with cmake. No build is required.

```console
mkdir build && cd build
cmake .. -DDOLBYIO_LIBRARY_PATH=/path/to/c++sdk -DCMAKE_BUILD_TYPE=Debug
```

To generate documentation: 

```console
cd docfx
docfx --serve
```

`docfx --serve` will generate all the required files from sources and markdown and serve them at [http://localhost:8080/documentation/index.html](http://localhost:8080/documentation/index.html).